---
import Layout from '@layouts/Layout.astro'
import Brain from '@molecules/Brain.astro'
import CardArtwork from '@molecules/CardArtwork.astro'
import { getCollection } from 'astro:content'

const artwork = (
  await getCollection('artwork', (p) => {
    return p.data.draft != 'true'
  })
).sort((a, b) => a.data.sort.valueOf() - b.data.sort.valueOf())
---

<Layout title="Art Portfolio" btnback>
  <main>
    <div class="intro mt-4">
      <Brain />
      <h2 class="h1 text-gradient centered">
        I do digital paintings and illustrations
      </h2>

      <div class="banner"></div>
    </div>

    <!-- <div class="grid-container">
      <div class="row">
        <div class="col-12 col-md-up-6 test"></div>
        <div class="col-12 col-md-up-3 test"></div>
        <div class="col-12 col-md-up-3 box">One of columns</div>
      </div>
    </div> -->

    <section class="art-content">
      <ul class="artlist">
        {
          artwork.map((post) => (
            <li>
              <a href={`/artwork/${post.slug}/`}>
                <CardArtwork
                  title={post.data.title}
                  thumbnail={post.data.thumbnail}
                  type="sqr"
                />
              </a>
            </li>
          ))
        }
      </ul>
    </section>
  </main>

  <style lang="scss" type="text/css">
    @use '../sass/vars' as *;
    @use '../sass/abstracts' as *;
    @use '../sass/animations' as *;

    .box {
      border: 1px solid red;
    }

    .art-content {
      margin-left: auto;
      margin-right: auto;
      max-width: 1200px;
      padding: var(--container-padding);
      width: 100%;
      @include transition;
    }

    .artlist {
      width: 100%;
      display: flex;
      list-style-type: none;
      justify-content: center;
      flex-wrap: wrap;
      // box-shadow: var(--color-gradient-shadow);
    }

    .banner {
      width: 100%;
      height: 300px;
      background-image: url('/images/banners/artbanner.jpg');
      background-size: cover;
      margin-block: 2rem;
      background-position: center;
      box-shadow: var(--color-gradient-shadow);
    }

    // .col-12 {
    //   height: 300px;
    //   background-size: cover;
    //   background-position: center;
    // }

    // .land-nature {
    //   background-image: url('/images/artwork/land_nature.jpg');
    // }
  </style>
</Layout>
