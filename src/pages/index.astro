---
import Layout from '@layouts/Layout.astro'
import Brain from '@molecules/Brain.astro'
import SectionClients from '@organisms/SectionClients.astro'
import CardWork from '@molecules/CardWork.astro'
import { getCollection } from 'astro:content'

const posts = (
	await getCollection('work', (p) => {
		return p.data.draft != 'true'
	})
).sort((a, b) => a.data.sort.valueOf() - b.data.sort.valueOf())
---

<Layout title="Ricardo Ireno">
	<main>
		<section class="ycenter mb-3">
			<div class="intro">
				<Brain />
				<h1 class="h0 intro-effect intro-text">
					I DO
					<a class="marked marked1" href="work"
						>FRONT-END DESIGN AND DEVELOPMENT</a
					>
				</h1>
				<h2 class="h1 text-gradient centered">
					I present information in a simple, organized, and attractive way.
				</h2>
			</div>
		</section>
		<section class="inner">
			<ul class="list">
				{
					posts.map((post) => (
						<li>
							<a href={`/work/${post.slug}/`}>
								<CardWork
									title={post.data.title}
									thumbnail={post.data.thumbnail}
									description={post.data.description}
									tags={post.data.tags}
								/>
							</a>
						</li>
					))
				}
			</ul>
		</section>
	</main>

	<SectionClients />
</Layout>
<div class="sides">
	<div class="artside"></div>
	<div class="devside"></div>
</div>

<style lang="scss" type="text/css">
	@use '../sass/vars' as *;
	@use '../sass/abstracts' as *;
	@use '../sass/animations' as *;
	@use 'sass:map';

	main {
		margin-top: 4rem;
		position: relative;
	}
	.intro {
		padding: 1rem;
	}

	.intro-link {
		margin: 10px solid var(--color-font-bold);
	}

	h1 {
		z-index: 1;
		margin-top: 2rem;
	}

	.sides {
		width: 100vw;
		display: grid;
		grid-template-columns: 49.5% 50.5%;
		position: absolute;
		top: -100px;
		z-index: -1;
	}

	.artside,
	.devside {
		height: 100vh;
	}

	.artside {
		background-image: linear-gradient(
			180deg,
			var(--color-background-sideA),
			hsla(200, 50%, 40%, 0)
		);
		width: 49.5vw;
	}
	.devside {
		background-image: linear-gradient(
			180deg,
			var(--color-background-sideB),
			hsla(200, 50%, 40%, 0)
		);
		width: 50.5 '' 0.5%vw;
	}

	.marked {
		border-bottom: 2px solid var(--color-primary-alpha1);
	}

	@include bk('md-up') {
		.marked {
			border-bottom: 8px solid var(--color-primary-alpha1);
		}
	}

	.list {
		display: flex;
		list-style-type: none;
		flex-direction: column;
	}
</style>
